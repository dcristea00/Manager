/* styles.css — Mobile-first Minimal Blue, alto contraste */
:root{
  --bg: #0b1020;
  --panel: #111a3b;
  --panel-2: #0e1633;
  --ink: #eef3ff;
  --muted: #b8c2e6;
  --line: #24315e;
  --brand: #3b82f6;
  --brand-2:#2563eb;
  --danger:#ef4444;
  --ok:#22c55e;
  --radius:16px;
  --shadow: 0 10px 28px rgba(0,0,0,.45);
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font:16px/1.5 ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial;
  color:var(--ink);
  background: linear-gradient(180deg,#0b1020 0%, #0a1230 100%);
}
.hidden{display:none!important}
.muted{color:var(--muted)}
h1,h2,h3{margin:0 0 10px}
a{color:inherit;text-decoration:none}
.i{width:22px;height:22px;display:inline-block;fill:currentColor;stroke:currentColor}

/* Header */
.app-header{position:sticky;top:0;z-index:10;padding:10px 12px;border-bottom:1px solid var(--line);
  background:linear-gradient(180deg, rgba(17,26,59,.9), rgba(17,26,59,.7));backdrop-filter: blur(10px);}
.header-row{display:flex;align-items:center;justify-content:space-between;gap:8px}
.app-title{font-weight:800;letter-spacing:.2rem;font-size:18px}
.toolbar{display:grid;gap:10px;margin-top:10px}
.row{display:flex;align-items:center;gap:8px}
.row.wrap{flex-wrap:wrap}
.row.between{justify-content:space-between}

/* Cards / layout */
.app-main{display:grid;gap:12px;padding:12px}
.card{background:var(--panel);border:1px solid var(--line);border-radius:var(--radius);box-shadow:var(--shadow);padding:12px}
.separator{height:1px;background:var(--line);margin:10px -2px}

/* Inputs */
label{display:flex;flex-direction:column;gap:6px}
input,select,textarea{width:100%;min-height:48px;border-radius:12px;border:1px solid #334175;
  background:#0f1b3e;color:var(--ink);padding:12px 14px;}
input::placeholder,textarea::placeholder{color:#9fb0e6}
select{appearance:none;background-image: linear-gradient(45deg, transparent 50%, currentColor 50%),
  linear-gradient(135deg, currentColor 50%, transparent 50%);background-position: calc(100% - 18px) 22px, calc(100% - 13px) 22px;background-size:5px 5px,5px 5px;background-repeat:no-repeat}
input:focus,select:focus,textarea:focus{outline:2px solid var(--brand);box-shadow:0 0 0 4px rgba(59,130,246,.25)}

/* Buttons */
.btn{display:inline-flex;align-items:center;gap:8px;padding:12px 16px;min-height:48px;border-radius:12px;
  border:1px solid #334175;background:#0f1b3e;color:var(--ink);cursor:pointer}
.btn:hover{background:#0e1937}
.btn.primary{background:linear-gradient(180deg,var(--brand),var(--brand-2));border-color:transparent}
.btn.primary:hover{filter:saturate(1.05)}
.btn.danger{background:linear-gradient(180deg,#ff6b6b,var(--danger));border-color:transparent}
.btn.ghost{background:transparent;border-color:transparent}
.btn.square{width:48px;height:48px;justify-content:center}

/* Pills/radios — ocultas por ahora (punto 6) */
.pill-group{display:none}

/* Search (si se usa más tarde) */
.searchbox{display:none}

/* Table */
.table-wrap{overflow:auto;border-radius:12px;border:1px solid var(--line);background:var(--panel-2)}
table{width:100%;border-collapse:separate;border-spacing:0}
th,td{padding:10px;border-bottom:1px solid var(--line);vertical-align:top}
thead th{position:sticky;top:0;background:#0c1738;z-index:1}
tbody tr:hover td{background:#0c1533}
.empty{text-align:center;padding:20px}

/* Dialog (modal crear/editar obra) */
dialog{border:0;padding:0;background:transparent}
.dialog-card{background:#162352;border:1px solid #3a4a86;border-radius:18px;min-width:min(520px,92vw);color:var(--ink);box-shadow:0 24px 64px rgba(0,0,0,.6)}
.dialog-head{display:flex;align-items:center;justify-content:space-between;padding:14px 16px;border-bottom:1px solid #2d3e7a}
.dialog-body{padding:14px 16px}
.dialog-foot{display:flex;align-items:center;gap:8px;padding:14px 16px;border-top:1px solid #2d3e7a}
.dialog-foot .spacer{flex:1}

/* Tabbar */
.tabbar{position:sticky;bottom:0;z-index:10;border-top:1px solid var(--line);
  background:linear-gradient(180deg, rgba(17,26,59,.6), rgba(17,26,59,.9));backdrop-filter: blur(10px);
  display:grid;grid-template-columns:repeat(4,1fr)}
.tab{display:flex;flex-direction:column;align-items:center;gap:4px;padding:8px 10px;color:var(--muted)}
.tab.active{color:#fff}

/* Utilities */
.full{grid-column:1/-1}
.chips{display:flex;gap:6px}
.chip{background:#0f1b3e;border:1px solid #334175;padding:6px 10px;border-radius:999px}
.alert-region{min-height:24px;margin:8px 0}

.hidden { display:none!important }

/* =========================
   THEME OVERRIDES — Mediterranean + Rustic
   Pégalo al FINAL de styles.css
   ========================= */

/* Paleta más clara (mar mediterráneo + acentos rústicos) */
:root{
  --bg: #0e1b2b;        /* fondo app */
  --panel: #122b47;     /* tarjetas */
  --panel-2: #11324a;
  --ink: #f3f7ff;       /* texto principal */
  --muted: #c9d6ee;     /* texto secundario */
  --line: #2c5c80;      /* bordes */
  --brand: #2a6f97;     /* azul mediterráneo */
  --brand-2:#014f86;    /* azul profundo */
  --accent:#61a5c2;     /* azul claro */
  --sand: #e9c46a;      /* arena */
  --clay: #d4a373;      /* arcilla */
}

/* Inputs mucho más claros y con buen borde/contraste */
.card input,
.card select,
.card textarea{
  background:#ffffff;
  color:#0e1325;
  border:1px solid #d7e3f8;
  min-height:44px;
  padding:10px 12px;
}
.card input::placeholder,
.card textarea::placeholder{ color:#7b8fb4; }

/* Select: recoloca la “flecha” centrada verticalmente */
select{
  background-position: calc(100% - 20px) 50%, calc(100% - 14px) 50%;
}

/* Formulario más compacto en móvil */
#formTitle{ font-size: clamp(18px, 3.8vw, 22px); }
label > span{ font-size: 14px; }
.card{ padding: 12px; }
@media (max-width: 430px){
  .app-main{ padding: 10px; }
  .btn{ min-height: 44px; padding: 10px 14px; }
}

/* Iconos y botones más grandes (especialmente los de obra) */
.i{ width: 24px; height: 24px; }
.btn.square{ width: 52px; height: 52px; padding: 0; }

/* Modal blanco, bien separado del fondo y centrado */
dialog::backdrop{ background: rgba(0,0,0,.55); }
dialog[open]{ display:grid; place-items:center; }
.dialog-card{
  background:#ffffff !important;     /* << modal blanco */
  color:#1b263b !important;
  border:1px solid #dfe7f2 !important;
  box-shadow: 0 30px 80px rgba(0,0,0,.45);
  border-radius: 18px;
  min-width: min(520px, 92vw);
}
.dialog-head,
.dialog-foot{
  background:#f7faff;
  border-color:#e6eef8;
}
.dialog-head h3{ color:#12385b; }
.dialog-foot .btn.primary{ background: linear-gradient(180deg, var(--accent), var(--brand)); color:#fff; }
.dialog-foot .btn.danger{ background: linear-gradient(180deg, #ff6b6b, #ef4444); color:#fff; }

/* Header: título algo más claro y espaciado */
.app-title{ letter-spacing: .22rem; color:#eaf2ff; }

/* Separadores un poco más visibles para dividir secciones (Home/Inventario) */
.separator{ background: #2b4f70; opacity: .9; }

/* (Si en el futuro reactivas filtros, quedarán ocultos visualmente) */
.pill-group, .searchbox { display: none !important; }


/* ===== Header: utilidades para el layout en 2 filas ===== */
.stack { display: grid; gap: 8px; }
.w-full { width: 100%; }

/* ===== Inventario: ajuste a borde lateral y sin desbordes en móvil ===== */
body { overflow-x: hidden; } /* evita scroll horizontal accidental */

#view-inventario { padding: 0; }                    /* quita relleno extra del section */
#view-inventario.card { padding: 12px; }            /* padding uniforme del card */
#view-inventario label { width: 100%; }             /* cada campo ocupa todo el ancho */
#view-inventario input,
#view-inventario select,
#view-inventario textarea { max-width: 100%; }      /* nada se sale horizontalmente */
#view-inventario .grid { grid-template-columns: 1fr; }
#view-inventario .row { margin-left: 0; margin-right: 0; }
#view-inventario .table-wrap { margin: 12px -1px 0; } /* la tabla “encaja” con el borde */

@media (max-width: 430px){
  .app-main { padding: 8px; }        /* acerca el contenido a los bordes del viewport */
  .card { padding: 10px 12px; }      /* compacta tarjetas */
  #formTitle { font-size: 18px; }
  .btn { min-height: 44px; padding: 10px 14px; }
}

/* ======= No scroll horizontal global ======= */
html, body { width: 100%; max-width: 100%; overflow-x: hidden; }
.app-main, .view, .card { max-width: 100vw; }

/* ======= Inventario: contenedor seguro ======= */
#view-inventario { padding: 12px; }
#view-inventario .table-wrap {
  margin: 12px 0 0;
  max-width: 100%;
  overflow-x: auto;               /* scroll solo dentro de la tabla si hiciera falta */
  -webkit-overflow-scrolling: touch;
}
#view-inventario table { width: 100%; table-layout: fixed; } /* evita ensanchar el body */
#view-inventario th, #view-inventario td { word-break: break-word; }

/* ======= Home: form pegado a los bordes (mobile) ======= */
#view-home { padding: 12px; }
#view-home .grid { grid-template-columns: 1fr; }
#view-home input, #view-home select, #view-home textarea { max-width: 100%; }

/* ===== MODAL iOS-SAFE, BLANCO Y LEGIBLE ===== */
dialog { border:0; padding:0; background:transparent; }
dialog[open]{
  position: fixed; inset: 0; z-index: 1000;   /* iOS Safari: asegura overlay */
  display: flex; align-items: center; justify-content: center;
}
dialog::backdrop{ background: rgba(0,0,0,.55); }

.dialog-card{
  background:#ffffff !important;
  color:#0f172a !important;
  border:1px solid #dfe7f2 !important;
  border-radius: 18px;
  width: min(520px, 92vw);
  max-height: 85vh;
  display: grid;
  grid-template-rows: auto 1fr auto;          /* título / contenido / acciones */
  overflow: hidden;                            /* evita que el título “suba” */
  box-shadow: 0 30px 80px rgba(0,0,0,.45);
}

.dialog-head{ display:flex; align-items:center; justify-content:space-between;
  padding:14px 16px; border-bottom:1px solid #e6eef8; background:#f7faff; }
.dialog-head h3{ margin:0; font-size:18px; color:#0b2c4d; }

.dialog-body{ padding:16px; overflow:auto; background:#fff; }
.dialog-body label > span{ color:#0b2c4d; }

.dialog-foot{ display:flex; align-items:center; gap:8px;
  padding:14px 16px; border-top:1px solid #e6eef8; background:#f7faff; }
.dialog-foot .spacer{ flex:1; }

/* Inputs dentro del modal: blancos y de alto contraste */
.dialog-card input{
  background:#ffffff; color:#0f172a;
  border:1px solid #cfe0f5; border-radius:12px;
}
.dialog-card .error{ color:#b91c1c; }

/* ===== TABLA → CARDS en móvil ===== */
@media (max-width: 520px){
  #view-inventario thead{ display:none; }
  #view-inventario table,
  #view-inventario tbody,
  #view-inventario tr,
  #view-inventario td{ display:block; width:100%; }
  #view-inventario tbody tr{
    border:1px solid #2c5c80; border-radius:12px;
    background: var(--panel); padding:10px; margin-bottom:10px;
  }
  #view-inventario td{
    display:grid; grid-template-columns: 110px 1fr;
    gap:6px; padding:6px 0; border:0;
    white-space: normal; word-break: normal; overflow-wrap:anywhere;
  }
  /* Etiquetas (cabeceras) por columna */
  #view-inventario td:nth-child(1)::before{ content:'Nombre'; font-weight:600; color:#cfe0f5; }
  #view-inventario td:nth-child(2)::before{ content:'Categoría'; font-weight:600; color:#cfe0f5; }
  #view-inventario td:nth-child(3)::before{ content:'Subtipo'; font-weight:600; color:#cfe0f5; }
  #view-inventario td:nth-child(4)::before{ content:'Cantidad'; font-weight:600; color:#cfe0f5; }
  #view-inventario td:nth-child(5)::before{ content:'Marca'; font-weight:600; color:#cfe0f5; }
  #view-inventario td:nth-child(6)::before{ content:'Ubicación'; font-weight:600; color:#cfe0f5; }
  #view-inventario td:nth-child(7)::before{ content:'Observaciones'; font-weight:600; color:#cfe0f5; }
  #view-inventario td:nth-child(8)::before{ content:'Acciones'; font-weight:600; color:#cfe0f5; }

  /* Acciones y +/- en una sola línea */
  #view-inventario td:nth-child(4) strong{ margin: 0 8px; }
  #view-inventario td:nth-child(8){ grid-template-columns: 110px auto; }
  #view-inventario td:nth-child(8) .row-actions{ display:flex; gap:6px; flex-wrap:wrap; }
  /* Un pelín más de aire en inventario */
  #view-inventario h2{ letter-spacing:.2px }
  #view-inventario th, #view-inventario td{ line-height:1.35 }

}

/* ==== Compact UI: tipografía y alturas más reducidas ==== */
html{ font-size: 15px; }
.app-header{ padding:8px 10px }
.toolbar{ gap:8px; margin-top:8px }
.btn{ min-height:40px; padding:8px 12px; }
.btn.square{ width:46px; height:46px }
.i{ width:22px; height:22px }
.card{ padding:10px }
.app-main{ gap:10px; padding:10px }

/* Evitar scroll horizontal global */
html,body{ max-width:100%; overflow-x:hidden }
.app-main,.view,.card{ max-width:100vw }

/* Tabla legible sin apretar letras */
#view-inventario table{ width:100%; table-layout: fixed }
#view-inventario th,#view-inventario td{ white-space:normal; word-break:normal; overflow-wrap:anywhere; line-height:1.3 }
#view-inventario .table-wrap{ overflow-x:auto; -webkit-overflow-scrolling:touch }

/* Cards responsivas para móvil (mejor lectura) */
@media (max-width:520px){
#view-inventario thead{ display:none }
#view-inventario table,#view-inventario tbody,#view-inventario tr,#view-inventario td{ display:block; width:100% }
#view-inventario tbody tr{ border:1px solid var(--line); border-radius:12px; background:var(--panel); padding:10px; margin-bottom:10px }
#view-inventario td{ display:grid; grid-template-columns:110px 1fr; gap:6px; padding:6px 0; border:0 }
#view-inventario td:nth-child(1)::before{ content:'Nombre'; font-weight:600 }
#view-inventario td:nth-child(2)::before{ content:'Categoría'; font-weight:600 }
#view-inventario td:nth-child(3)::before{ content:'Subtipo'; font-weight:600 }
#view-inventario td:nth-child(4)::before{ content:'Cantidad'; font-weight:600 }
#view-inventario td:nth-child(5)::before{ content:'Marca'; font-weight:600 }
#view-inventario td:nth-child(6)::before{ content:'Ubicación'; font-weight:600 }
#view-inventario td:nth-child(7)::before{ content:'Observaciones'; font-weight:600 }
#view-inventario td:nth-child(8)::before{ content:'Acciones'; font-weight:600 }
}

/* Modal blanco bien centrado y legible */
dialog[open]{ position:fixed; inset:0; display:flex; align-items:center; justify-content:center; z-index:1000 }
dialog::backdrop{ background:rgba(0,0,0,.55) }
.dialog-card{ background:#fff !important; color:#0f172a !important; border:1px solid #dfe7f2 !important; border-radius:18px; width:min(520px,92vw); max-height:85vh; display:grid; grid-template-rows:auto 1fr auto; overflow:hidden; box-shadow:0 30px 80px rgba(0,0,0,.45) }
.dialog-head{ display:flex; align-items:center; justify-content:space-between; padding:12px 14px; border-bottom:1px solid #e6eef8; background:#f7faff }
.dialog-body{ padding:12px 14px; overflow:auto }
.dialog-foot{ display:flex; align-items:center; gap:8px; padding:12px 14px; border-top:1px solid #e6eef8; background:#f7faff }
.dialog-head h3{ margin:0; font-size:18px; color:#0b2c4d }