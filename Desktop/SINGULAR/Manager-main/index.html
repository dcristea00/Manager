<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>INVOBRA</title>
  <link rel="stylesheet" href="styles.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body data-theme="dark">
  
  <header class="app-header">
    <div class="header-row">
      <div class="app-title">INVOBRA</div>
      <button id="themeToggleBtn" class="btn square i">üåô</button>
    </div>
    
    <div id="obra-toolbar" class="toolbar hidden">
      <div class="row">
        <select id="obraSelect" class="w-full"></select>
        <button id="editObraBtn" class="btn square i" disabled>‚úèÔ∏è</button>
        <button id="deleteObraBtn" class="btn square danger i" disabled>üóëÔ∏è</button>
      </div>
      <button id="nuevaObraBtn" class="btn primary">Nueva Obra</button>
    </div>
  </header>
  

  <main class="app-main">
    
    <section id="view-inicio">
      <h2 class="view-title">Obras</h2>
      <div id="inicioGrid" class="grid-cards"></div>
    </section>
    

    <section id="view-anadir" class="hidden">
      <h2 class="view-title">Agregar √çtem</h2>
      
      <form id="itemModalForm">
        <label>Nombre * <input id="itemNameInp" required></label>
        <label>Categor√≠a *
          <select id="itemCatSel" required>
            <option value="">‚Äî Seleccionar ‚Äî</option>
            <option value="herramienta">Herramienta</option>
            <option value="material">Material</option>
          </select>
        </label>
        
        <div id="itemSubWrap" style="display:none">
          <label>Subtipo
            <select id="itemSubSel">
              <option value="">‚Äî</option>
              <option value="electrica">El√©ctrica</option>
              <option value="manual">Manual</option>
            </select>
          </label>
        </div>
        
        <label>Marca *
          <select id="itemBrandSel" required>
            <option value="">‚Äî</option>
            <option value="new">Nueva marca‚Ä¶</option>
          </select>
        </label>
        
        <label id="itemBrandWrap" style="display:none">Nueva marca <input id="itemBrandInp"></label>
        <label>Cantidad <input id="itemQtyInp" type="number" min="1" value="1"></label>
        <label>Ubicaci√≥n <input id="itemLocInp"></label>
        <label>Observaciones <textarea id="itemObsInp"></textarea></label>
        
        <div class="row">
          <button type="submit" class="btn primary">Agregar √≠tem</button>
          <button type="button" class="btn" onclick="qs('#itemModal').close()">Cancelar</button>
        </div>
      </form>
    </section>
    

    <section id="view-inventario" class="hidden">
      <h2 class="view-title" id="obraName">Selecciona una obra‚Ä¶</h2>
      
      <div class="row">
        <input id="invSearchInp" placeholder="Buscar‚Ä¶">
      </div>
      
      <div id="invSummary">Visibles 0 ¬∑ Total 0</div>
      

      <div class="table-wrap">
        <table>
          <thead>
            <tr>
              <th>Nombre</th><th>Cat.</th><th>Subtipo</th><th>Cant.</th><th>Marca</th><th>Ubicaci√≥n</th><th>Observaciones</th><th>Acciones</th>
            </tr>
          </thead>
          <tbody id="invTable"></tbody>
        </table>
      </div>
    </section>
    

    <section id="view-categorias" class="hidden">
      <h2 class="view-title">Categor√≠as y Marcas</h2>
      
      <div class="row wrap">
        <label>Obra
          <select id="obraSel">
            <option value="all">Todas</option>
          </select>
        </label>
        
        <label>Categor√≠a
          <select id="catSel">
            <option value="ambas">Ambas</option>
            <option value="herramienta">Herramienta</option>
            <option value="material">Material</option>
          </select>
        </label>
        
        
        <label id="subWrap">Subtipo
          <select id="subSel">
            <option value="ambas">Ambas</option>
            <option value="electrica">El√©ctrica</option>
            <option value="manual">Manual</option>
          </select>
        </label>
        
        
        <label>Marca
          <select id="marcaSel">
            <option value="all">Todas</option>
          </select>
        </label>
      </div>
      

      <div id="catSummary">√çtems: 0 ¬∑ Unidades: 0</div>
      

      <div id="catResults"></div>
      

    </section>
    

    <section id="view-datos" class="hidden">
      <h2 class="view-title">Datos</h2>
      <div id="datosActions">De momento no hay acciones aqu√≠.</div>
    </section>
    
  </main>
  

  <nav class="tabbar">
    <a href="#inicio" class="tab active" id="nav-inicio">Inicio</a>
    <a href="#anadir" class="tab" id="nav-anadir">A√±adir</a>
    <a href="#inventario" class="tab" id="nav-inventario">Inventario</a>
    <a href="#categorias" class="tab" id="nav-categorias">Categor√≠as</a>
    <a href="#datos" class="tab" id="nav-datos">Datos</a>
  </nav>
  

  <dialog id="obraModal">
    <div class="dialog-card">
      <div class="dialog-head">
        <h3>Nueva Obra</h3>
        <button class="btn ghost i" onclick="qs('#obraModal').close()">‚úï</button>
      </div>
      <form id="obraModalForm" class="dialog-body">
        <label>Nombre de la Obra * <input id="obraNameInp" required></label>
      </form>
      <div class="dialog-foot">
        <button id="obraModalDelBtn" class="btn danger hidden">Eliminar</button>
        <div class="row">
          <button class="btn" onclick="qs('#obraModal').close()">Cancelar</button>
          <button type="submit" form="obraModalForm" class="btn primary">Guardar</button>
        </div>
      </div>
    </div>
  </dialog>
  
</body>
<script src="app.js"></script>
</html>